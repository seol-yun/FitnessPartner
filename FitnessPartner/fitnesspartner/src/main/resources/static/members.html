<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>파트너 정보</title>
</head>
<body>
<h2>파트너 정보</h2>
<ul id="partnerList"></ul>

<script>
    fetchAllMembers();

    function fetchAllMembers() {
        fetch("/api/members/all")
            .then((response) => response.json())
            .then((data) => {
                const partnerList = document.getElementById("partnerList");
                data.forEach((member) => {
                    const listItem = document.createElement("li");
                    listItem.textContent = `${member.id} - ${member.name} (${member.email})`;

                    const addButton = document.createElement("button");
                    addButton.textContent = "친구 추가";
                    addButton.addEventListener("click", () => addFriend(member.id));

                    listItem.appendChild(addButton);
                    partnerList.appendChild(listItem);
                });
            })
            .catch((error) => console.error("Error:", error));
    }

    function addFriend(memberId) {
        // 여기에 친구 추가 기능을 구현하세요
        alert(`친구 추가 기능: ${memberId}`);
    }
</script>
</body>
</html>
